<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>

    <script src="https://cdn.jsdelivr.net/npm/vue"></script>    
</head>
<body>
    <div id="box">
        <p>{{minute}}:{{second}}</p>
        <button @click='add'>点击倒计时</button>
    </div>
</body>
<script type="text/javascript">
    var vm = new Vue({
        el:'#box',
        data:{
            minutes:05,
            seconds:0
        },
        methods:{
            num:function (n) {
                return n<10 ? "0" + n : "" + n
            },
            add:function () {
                var _this = this;
                var time = window.setInterval(function () {

                    if (_this.seconds == 00 && _this.minutes != 00) {
                        _this.seconds = 59;
                        _this.minutes -= 1; 
                    }else if(_this.minutes == 00 && _this.seconds == 00){
                        _this.seconds = 0;
                        window.clearInterval(time);
                        alert('完美')
                    }else{
                        _this.seconds -= 1 
                    }

                },1000);
            }
        },
        watch:{
            second:{
                handler(newVal){
                    this.num(newVal)
                }
            },
            minute:{
                handler(newVal){
                    this.num(newVal)
                }
            }
        },
        computed:{
            second:function () {
                return this.num(this.seconds)
            },
            minute:function () {
                return this.num(this.minutes)
            }
        }
    })

</script>
</html>