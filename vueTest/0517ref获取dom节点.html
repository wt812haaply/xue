<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>0517ref获取dom节点</title>
	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>
<body>
	<div id="app">
		{{content}}
		<!-- 获取dom节点 用ref-->
		<div ref="textCont" @click="textClick()">{{ text }} <--- 弹出的内容是动态获取的</div>


		<!-- 子组件获取dom节点  用ref -->
		<ul>
		    <li is="liList" v-for="item in content" :pop="item"></li>
		</ul>

		<!-- 子组件获取父级的值  再求和 用ref获取one 跟 two -->
		<div>
		<p is="olList" @change="qiuhe()" ref="one"></p>
		<p is="olList" @change="qiuhe()" ref="two"></p>
		<div>{{none}}</div>
		</div>
	</div>
	<script type="text/javascript">
		//olList
		Vue.component("olList",{
			template:'<p @click="qiu()">{{number}}</p>',
			data:function(){
				return {
					olListCont:'olTest',
					number:0,
				}
			},
			methods:{
				qiu:function(){
					this.number ++;
					this.$emit("change");
				}
			}
		})

		// liList
		var liList={
			template:"<li @click='ziClick()' ref='hello'>{{pop.name}}</li>",
			data:function(){
				return{

				}
			},
			props:['pop'],
			methods:{
				ziClick:function(){
					alert(this.$refs.hello.innerHTML);
				}
			},
		}

		var vm=new Vue({
			el:'#app',
			data:{
				content:[
					{id:1,name:'wt1'},
					{id:2,name:'wt2'},
					{id:3,name:'wt3'},
				],
				text:'texttttttt',
				none:0,
			},
			components:{
				liList,
			},
			methods:{
				textClick:function(){
					// console.log(this.$refs.textCont.innerHTML)
					alert(this.$refs.textCont.innerHTML)
				},
				qiuhe:function(){
					// console.log(this.$refs.one);
					// console.log(this.$refs.two);
					this.none= this.$refs.one.number + this.$refs.two.number;
					// console.log(this.$refs.one.number + this.$refs.two.number)
				}
			}
		})
	</script>
</body>
</html>